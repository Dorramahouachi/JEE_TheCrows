<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/template.xhtml"
	xmlns:p="http://primefaces.org/ui"
	>

	<ui:param name="page_name" value="Liste Des Evaluations" />
	<ui:define name="content">

	<div class="card p-col-12">
	<h1>Liste Des Evaluations</h1>
	
	<h:form>
	<h:commandLink action="#{evaluationBean.goTostats()}" value="stats"></h:commandLink>
   <p:dataTable 
	    var="evaluation" 
	    value="#{evaluationBean.evaluations}" 
	    id="list" 
	    widgetVar="evsTable"
	    filteredValue="#{evaluationBean.filteredEvaluations}"
	    >
	   <!--  <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('evsTable').filter()" style="width:150px" placeholder="Enter keyword"/>
            </p:outputPanel>
        </f:facet> -->
	    <p:column headerText="Type">
	        <h:outputText value="#{evaluation.type}" />
	    </p:column>
	 
	    <p:column headerText="Date">
	        <h:outputText value="#{evaluation.date}" />
	    </p:column>
	 
	    <p:column headerText="Note">
	        <h:outputText value="#{evaluation.globalNote}" />
	    </p:column>
	     <p:column headerText="Commentaire">
	        <h:outputText value="#{evaluation.description}" />
	    </p:column>
	    
	    <p:column headerText="Employe">
		  <h:outputText value="#{evaluation.receiver.firstname.concat(' ').concat(evaluation.receiver.lastname)}" />
	    </p:column>
	    <p:column headerText="Manager">
	    		<h:outputText value="#{evaluation.sender.firstname.concat(' ').concat(evaluation.sender.lastname)}" />   		  
	    </p:column> 
	    <p:column>
	    	 <p:commandButton 
				action= "#{evaluationBean.deleteEvaluation(evaluation.id)}"
				value="Supprimer"
				update="list"
				 >
				 
		</p:commandButton>
	    </p:column>
	   
	</p:dataTable>
</h:form>
</div>


	</ui:define>

</ui:composition>
	
